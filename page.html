<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
	</head>
	<body>
		<a-scene vr-mode-ui="enabled: true">
			<a-assets>
				<img id="QRCode" src="机协网站二维码.png" alt="QRCode"/>
			</a-assets>
			
			<a-box material="src: #QRCode" position="0 7 0" color="#eeeeee"></a-box>
			<a-text id="code" side="double" value=";please code;" color="#222" position="0 2 -3" align="left" material="color: gray"></a-text>
			<a-sky color="#6EBAA7"></a-sky>
			<a-camera wasd-controls="enabled: false">
				<a-cursor></a-cursor>
			</a-camera>
		</a-scene>
		
		<script>
			var text = "please code";
			var isCap = false;
			window.onkeydown = function(event){
				event.preventDefault();
				console.log(event.keyCode);
				var isShift = event.shiftKey;
				if(event.keyCode == 20)
					isCap = !isCap;
				switch(event.keyCode){
					case 8:				//cancel
						text = text.slice(0, text.length-1);
						break;
					case 9:
						text += "    "	//Tap
						break;
					case 13:
						text += '\n';	//enter
						break;
					case 48:
						text += isShift?')':'0';
						break;
					case 49: 
						text += isShift?'!':'1';
						break;
					case 50: 
						text += isShift?'@':'2';
						break;
					case 51: 
						text += isShift?'#':'3';
						break;
					case 52: 
						text += isShift?'$':'4';
						break;
					case 53: 
						text += isShift?'%':'5';
						break;
					case 54: 
						text += isShift?'^':'6';
						break;
					case 55: 
						text += isShift?'&':'7';
						break;
					case 56: 
						text += isShift?'*':'8';
						break;
					case 57: 
						text += isShift?'(':'9';
						break;
					case 186:
						text += isShift?':':';';
						break;
					case 187:
						text += isShift?'+':'=';
						break;
					case 188:
						text += isShift?'<':',';
						break;
					case 189:
						text += isShift?'_':'-';
						break;
					case 190:
						text += isShift?'>':'.';
						break;
					case 191:
						text += isShift?'?':'/';
						break;
					case 192:
						text += isShift?'~':'`';
						break;
					case 219:
						text += isShift?'{':'[';
						break;
					case 220:
						text += isShift?'|':'\\';
						break;
					case 221:
						text += isShift?'}':']';
						break;
					case 222:
						text += isShift?'\"':'\'';
						break;
					default:
						if(isCap)
							text += String.fromCharCode(event.keyCode).toUpperCase();
						else
							text += String.fromCharCode(event.keyCode).toLowerCase();
				}
				console.log(text);
				var textUI = document.getElementById("code");
				textUI.setAttribute("value", text);
			}
		</script>
	</body>
</html>
